Here are some configuration examples to help you on your way. Keep in mind, it can be considered bad practice to manually format your webserver logs in json as some client headers are unmodified and can contain characters that will break the json parsing. 

nginxban.conf:
This is an example of a the expected nginx deny format that would be on your webs to deny certain ips. 

logstash.conf:
An example for grabbing and parsing nginx logs with our custom format.

nginx-log-format.conf:
The custom nginx format we use for this project. 

